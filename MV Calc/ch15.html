<link href="../styles.css" rel="stylesheet" />
<script src="../renderMath.js"></script>
<script src="main.js" async></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8495483038077603",
        enable_page_level_ads: true
    });
</script>
<div class="indent">
    <!--15.1-->
    <h3>15.1: Double Integrals Over Rectangles:</h3>
    <ul>
        <li>Integrating functions of two variables will give the volume (assuming the function is positive) between graph and <var>xy</var>-plane.</li>
        <li>We can derive a double integral the same way we derived single integrals (check out Unit 2 in the <a href="../AP Calc BC/studyGuide.html">AP Calculus BC Study Guide</a>), this time partitioning the volume twice and having a double Riemann sum.
            When we partition it twice instead of once, we end up with large rectangular beams:</li>
        <canvas id="threeDimensionalRectangularSumSketch" width="340" height="300"></canvas>
        <script src="./drawingScripts/threeDimensionalRectangularSumSketch.js" class="renderJS"></script>
        <li>Assuming the function is positive, integrating a function of two variables will give the volume between the graph and the
            <equation><var>xy</var></equation>-plane.</li>
        <li>Finally, we can say that the double integral of
            <equation><var>f (x, y)</var></equation> over a rectangle
            <equation><var>R</var></equation>:
        </li>
        <table class="rules">
            <tr>
                <td>
                    <equation>
                        <integral lowerBound="<var>R</var>" respectTo="<var>A</var>" double><var>f (x, y)</var></integral>
                    </equation>
                </td>
                <th><a href="javascript:void(0)" id="doubleIntegralRiemannSumProofToggleLink" onclick="toggleSolution('#doubleIntegralRiemannSumProof', true);">Show Proof</a></th>
            </tr>
        </table>
        <li>Click <b>Show Proof</b> to see more about double Riemann Sums.</li>
        <div id="doubleIntegralRiemannSumProof" class="solution">
            <ol>
                <li>When we partition
                    <equation>[<var>a, b</var>]</equation> and
                    <equation>[<var>c, d</var>]</equation> into
                    <equation><var>m</var></equation> and
                    <equation><var>n</var></equation> our area into small rectangles, it should look something like this:<br />
                    <canvas id="twoDimensionalPartitionGraphDiagramCartesianPlane" width="220" height="220"></canvas>
                    <script src="./drawingScripts/twoDimensionalPartitionGraphDiagramCartesianPlane.js" class="renderJS"></script>
                </li>
                <li>We can define this rectangle
                    <equation><var>R</var></equation> as
                    <equation>[<var>a, b</var>] &Cross; [<var>c, d</var>]</equation>. We call this a cartesian product. It is the same as defining
                    <equation><var>a &le; x &le; b</var></equation> and
                    <equation><var>c &le; y &le; d</var></equation>
                </li>
                <li>Mathematically speaking, we can denote each subinterval as</li>
                <equation><var>a = x<sub>0</sub> &lt; x<sub>1</sub> &lt; x<sub>2</sub> &lt; ... &lt; x<sub>m</sub> = b</var></equation><br />
                <equation><var>c = y<sub>0</sub> &lt; y<sub>1</sub> &lt; y<sub>2</sub> &lt; ... &lt; y<sub>n</sub> = d</var></equation><br /> And find the sides of each rectangle as<br />
                <equation><span class="alignedEquations">
                    &Delta;x<sub>i</sub> = x<sub>i</sub> &minus; x<sub>i &minus; 1</sub><br />
                    &Delta;y<sub>j</sub> = y<sub>j</sub> &minus; y<sub>j &minus; 1</sub>
                </span></equation><br />
                <b>Note:</b> The difference could be anything, in a Riemann sum they don't have to be uniform, but we purposefully make them uniform when we get into integrals.
                <li>We can use
                    <equation>(<var>x<sub>i</sub>, y<sub>j</sub></var>)</equation> and the heights
                    <equation><var>f (x<sub>i</sub>, y<sub>j</sub>)</var></equation> to find our volumes. The volume of a single sub-interval rectangular prism can be found like so:</li>
                <equation><span class="alignedEquations">
                    &Delta;<var>V<sub>ij</sub></var> = <text>height</text> &sdot; A<text> of base</text><br />
                    = <var>f (x<sub>i</sub>, y<sub>j</sub>)</var>&Delta;<var>x<sub>i</sub></var>&Delta;<var>y<sub>j</sub></var>
                </span></equation>
                <li>Now to add up all the tiny sub-volumes for an approximation of our whole volume:</li>
                <equation>
                    <var>V</var> &asymp;
                    <sigma start="<var>i</var> = 1" end="<var>m</var>"></sigma>
                    <sigma start="<var>j</var> = 1" end="<var>n</var>"></sigma>&Delta;<var>V<sub>ij</sub></var> =
                    <sigma start="<var>i</var> = 1" end="<var>m</var>"></sigma>
                    <sigma start="<var>j</var> = 1" end="<var>n</var>"></sigma><var>f (x<sub>i</sub>, y<sub>j</sub>)</var>&Delta;<var>x<sub>i</sub></var>&Delta;<var>y<sub>j</sub></var>
                </equation>
                <li>When we take the limit of this double Riemann sum, as
                    <equation><var>m, n</var> &rarr; &infin;</equation>, we get our double integral, where
                    <equation><var>dA</var></equation> represents where the cuts are being made.</li>

                <equation><span class="answer">
                                <lim as="m, n" approaches="&infin;"></lim>
                                <sigma start="<var>i</var> = 1" end="<var>m</var>"></sigma>
                                <sigma start="<var>j</var> = 1" end="<var>n</var>"></sigma><var>f (x<sub>i</sub>, y<sub>j</sub>)</var>&Delta;<var>x<sub>i</sub></var>&Delta;<var>y<sub>j</sub></var> =
                                <integral lowerBound="<var>R</var>" respectTo="<var>A</var>" double><var>f (x, y)</var></integral>
                            </span></equation>

            </ol>
        </div>
        <li>We also have iterated integrals:</li>
        <table class="rules">
            <tr>
                <td>
                    <equation>
                        <integral lowerBound="<var>y = c</var>" upperBound="<var>d</var>" respectTo="y">[
                            <integral lowerBound="<var>x = a</var>" upperBound="<var>b</var>" respectTo="x">
                                <var>f (x, y)</var>
                            </integral>]
                        </integral>
                    </equation>
                </td>
                <td>
                    <equation>
                        <integral lowerBound="<var>x = a</var>" upperBound="<var>b</var>" respectTo="x">[
                            <integral lowerBound="<var>y = c</var>" upperBound="<var>d</var>" respectTo="y">
                                <var>f (x, y)</var>
                            </integral>]
                        </integral>
                    </equation>
                </td>
                <th><a href="javascript:void(0)" id="iteratedIntegralsProofToggleLink" onclick="toggleSolution('#iteratedIntegralsProof', true);">Show Proof</a></th>
            </tr>
        </table>
        <li>Click <b>Show Proof</b> to see more about where Iterated Integrals come from.</li>
        <div id="iteratedIntegralsProof" class="solution">
            <ol>
                <li>When we derived the above, we decided to make double cuts instead of singular cuts like we did in AP Calculus BC, what if, instead, we kept the same Fundamental Theorem of Calculus?</li>
                <li>If we only make singular cuts, slicing parallel to the xz-plane, we can try to approximate the volume of each of these slices:</li>
                <canvas id="iteratedIntegralsLoafSliceDiagram" width="340" height="310"></canvas>
                <script src="./drawingScripts/iteratedIntegralsLoafSliceDiagram.js" class="renderJS"></script>
                <li>Let's look at a trace parallel to the xz-plane:</li>
                <canvas id="volumeOfSingleSliceOfXZPlaneDiagram" width="220" height="220"></canvas>
                <script src="./drawingScripts/volumeOfSingleSliceOfXZPlaneDiagram.js" class="renderJS"></script>
                <li>We can deduce that the volume of one of those 3-D loaf slices is the same as the area under the trace curve (single-variable integral) muliplied by how wide each slice is (
                    <equation>&Delta;y<sub>j</sub></equation>):<br />
                    <equation><span class="alignedEquations">
                    &Delta;V<sub>j</sub> = (<text>area</text>)(<text>thickness</text>)<br />
                    = [<integral lowerBound="a" upperBound="b" respectTo="x">f (x, y<sub>j</sub>)</integral>]&Delta;y<sub>j</sub>
                </span></equation><br /> In the equation above, notice how the function inside the single-varaible integral seems to have two values. In reality the
                    <equation><var>y</var></equation> is held constant because we are only looking at the xz-trace in this instance.
                </li>
                <li>To find our total volume, all we have to do is add up the volumes of each slice:</li>
                <equation>
                    V &asymp;
                    <sigma start="<var>j</var> = 1" end="<var>n</var>"></sigma>[
                    <integral lowerBound="a" upperBound="b" respectTo="x">f (x, y<sub>j</sub>)</integral>]&Delta;y<sub>j</sub>
                </equation>
                <li>This is the same thing as a Riemann Sum, only difference is that our function inside of it is already an integral but that's ok, let's take the limit as
                    <equation><var>n</var></equation> &rarr; &infin;:</li>
                <equation>
                    V =
                    <lim as="n" approaches="&infin;"></lim>
                    <sigma start="<var>j</var> = 1" end="<var>n</var>"></sigma>[
                    <integral lowerBound="a" upperBound="b" respectTo="x">f (x, y<sub>j</sub>)</integral>]&Delta;y<sub>j</sub></equation><br />
                <equation><span class="answer">
                    =
                    <integral lowerBound="<var>y &#61; c</var>" upperBound="<var>d</var>" respectTo="y">[
                        <integral lowerBound="<var>x = a</var>" upperBound="<var>b</var>" respectTo="x"><var>f (x, y)</var></integral>]</integral>
                    </span></equation>
                <li>From here all we have to do is switch the nesting to get our other iterated integral. The way we evaluate these is from the inside out, so first we would start with
                    <equation><var>dx</var></equation> holding <var>y</var> constant as we integrate (and evaluate the bounds) and then we should be left with a function that is only with respect to
                    <equation><var>y</var></equation>, at which point we evaluate the second integral.</li>
            </ol>
        </div>
        <h5>Fubini's Theorem:</h5>
        <li>We're still missing one piece of the puzzle. Now that we know the definition of an integral, how do we actually mathematically evaluate it, given a function?</li>
        <li>If
            <equation><var>f (x, y)</var></equation> is continuous on
            <equation><var>R = [a, b] &Cross; [c, d]</var></equation>, then:</li>
        <table class="rules">
            <tr>
                <td>
                    <equation>
                        <integral lowerBound="<var>R</var>" respectTo="A" double><var>f (x, y)</var></integral> =
                        <integral lowerBound="<var>x = a</var>" upperBound="<var>b</var>" respectTo="x">[
                            <integral lowerBound="<var>y = c</var>" upperBound="<var>d</var>" respectTo="y"><var>f (x, y)</var></integral>]</integral> =
                        <integral lowerBound="<var>y = c</var>" upperBound="<var>d</var>" respectTo="y">[
                            <integral lowerBound="<var>x = a</var>" upperBound="<var>b</var>" respectTo="x"><var>f (x, y)</var></integral>]</integral>
                    </equation>
                </td>
            </tr>
        </table>
        <li>Now we know that the iterated integrals are equivalent no matter which way they are swapped, this will come handy in solving more complex nested integrals when the variables just won't go away. Just don't forget to check that your function is
            continuous on the domain, or else Fubini's Theorem does not apply.</li>
    </ul>
    <h3>15.2: Double Integrals Over General Regions:</h3>
    <ul>
        <li>Imagine your function is
            <equation><var>h(x, y)</var></equation>. There are 3 types of regions we will be integrating over. Looking at the xy-plane:</li>
        <ol>
            <li>Type 1: Sides are flat</li>
            <table>
                <tr>
                    <td>
                        <canvas id="regionType1Diagram" width="220" height="220"></canvas>
                        <script src="./drawingScripts/regionType1Diagram.js" class="renderJS"></script>
                    </td>
                    <td>
                        <table class="staticTable">
                            <tr>
                                <td>
                                    <equation><var>a &le; x &le; b</var></equation><br />
                                    <equation><var>g(x) &le; y &le; f (x)</var></equation>
                                </td>
                                <td>
                                    <equation>
                                        <integral lowerBound="<var>D</var>" respectTo="A" double><var>h(x, y)</var></integral>
                                        =
                                        <integral lowerBound="<var>x = a</var>" upperBound="b" respectTo="x">
                                            <integral lowerBound="<var>y = g(x)</var>" upperBound="<var>f (x)</var>" respectTo="y"><var>h(x, y)</var></integral>
                                        </integral>
                                    </equation>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            <li>Type 2:</li>
            <table>
                <tr>
                    <td>
                        <canvas id="regionType2Diagram" width="220" height="220"></canvas>
                        <script src="./drawingScripts/regionType2Diagram.js" class="renderJS"></script>
                    </td>
                    <td>
                        <table class="staticTable">
                            <tr>
                                <td>
                                    <equation><var>c &le; y &le; d</var></equation><br />
                                    <equation><var>l(y) &le; x &le; r(y)</var></equation>
                                </td>
                                <td>
                                    <equation>
                                        <integral lowerBound="<var>D</var>" respectTo="A" double><var>h(x, y)</var></integral>
                                        =
                                        <integral lowerBound="<var>y = c</var>" upperBound="d" respectTo="y">
                                            <integral lowerBound="<var>x = l(y)</var>" upperBound="<var>r(y)</var>" respectTo="x"><var>h(x, y)</var></integral>
                                        </integral>
                                    </equation>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            <li>Type 3: (both Type 1 &amp; Type 2)</li>
            <table>
                <tr>
                    <td>
                        <canvas id="regionType3Diagram"></canvas>
                        <script class="renderJS">
                            var regionType3Diagram = document.querySelector("#regionType3Diagram");
                            var regionType3DiagramGraph = new Graph(regionType3Diagram, [-4 * 30, 4 * 30], [0, 4 * 30], {
                                padding: 10,
                                interval: 0.00001,
                                scaleFactor: 30,
                                drawAxis: true,
                                xAxisTitle: "x",
                                showXAxisTitle: true,
                                yAxisTitle: "y",
                                showYAxisTitle: true
                            });
                            regionType3DiagramGraph.addEquation((x) => {
                                return Math.sqrt(9 - x ** 2);
                            });
                            var regionType3DiagramCTX = regionType3DiagramGraph.allowDrawable("invert");
                            //Have to use different coordinates since this is a graph context that has not been rotated back
                            //regionType3DiagramCTX.scale(1, -1); // Flips the canvas upside down just so we can draw our text right-side up
                            regionType3DiagramCTX.fillText("-3", -3.25 * 30, 10);
                            regionType3DiagramCTX.fillText("0", -3, 10);
                            regionType3DiagramCTX.fillText("3", 0, -3 * 30);
                            regionType3DiagramCTX.fillText("3", 3 * 30, 10);
                        </script>
                    </td>
                    <td>
                        <table class="staticTable">
                            <tr>
                                <td>
                                    <table>
                                        <tr>
                                            <th>Type 1:</th>
                                            <th>&emsp;</th>
                                            <th>Type 2:</th>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">
                                                <equation>&minus;3 &le; <var>x</var> &le; 3</equation><br />
                                                <equation>0 &le; <var>y</var> &le;
                                                    <sqrt>9 &minus; <var>x</var><sup>2</sup></sqrt>
                                                </equation>
                                            </td>
                                            <td>&emsp;</td>
                                            <td style="text-align: center;">
                                                <equation>0 &le; <var>y</var> &le; 3</equation><br />
                                                <equation>&minus;
                                                    <sqrt>9 &minus; <var>y</var><sup>2</sup></sqrt> &le; <var>x</var> &le;
                                                    <sqrt>9 &minus; <var>y</var><sup>2</sup></sqrt>
                                                </equation>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                                <td>Since it classifies as both Type 1 and Type 2, we are allowed to choose the bounds ourselves and set the order of integration</td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </ol>
        <li>The main trick here is to find your bounds of integration depending on the region that you are given, and then reorder the integrals so that when you reach the outmost integral, you are only left with terms of that variable.</li>
        <li>When solving the integrals, another thing to note that will come in handy in the next section is that:</li>
        <table class="rules">
            <tr>
                <td>
                    <equation>
                        <integral lowerBound="<var>D</var>" respectTo="A" double>1</integral> = <var>D</var>
                    </equation>
                </td>
                <th><a href="javascript:void(0)" id="doubleIntegralOfConstantProofToggleLink" onclick="toggleSolution('#doubleIntegralOfConstantProof', true);">Show Proof</a></th>
            </tr>
        </table>
        <div id="doubleIntegralOfConstantProof" class="solution">
            <ol>
                <li>Think of it as one dimension less than what the output normally is:</li>
                <equation><span class="alignedEquations">
                    <integral lowerBound="<var>D</var>" respectTo="A" double>1</integral> = <text>volume of solid</text><br />
                    = <text>Area of base</text> &sdot; <text>height</text><br />
                    = <text>Area of base</text> &sdot; 1<br />
                    = <text>Area of </text>D
                </span></equation>
                <li>The same holds true with integrals of one variable:<br />
                    <equation><span class="alignedEquations">
                    <integral lowerBound="<var>a</var>" upperBound="<var>b</var>" respectTo="x">1</integral> = <text>base</text> &sdot; <text>height</text><br />
                    = (<var>b &minus; a</var>) &sdot; 1<br />
                    = <var>b &minus; a</var>
                </span></equation><br /> which is the equivalent of length.
                </li>
            </ol>
        </div>
    </ul>
    <h3>15.6: Triple Integrals:</h3>
    <ul>
        <li>Let's do a comparison of the different dimensions of integrals we are familiar with:</li>
        <table class="staticTable">
            <tr>
                <th>Integral:</th>
                <th>Depiction of Bounds on Integral:</th>
                <th>Depiction of What Integral Means:</th>
                <th style="border: none;"></th>
                <th style="border: none;"></th>
                <th>Integral:</th>
                <th>Depiction of What Integral Means:</th>
            </tr>
            <tr>
                <td>
                    <equation>
                        <integral lowerBound="<var>a</var>" upperBound="<var>b</var>" respectTo="x"><var>f (x)</var></integral>
                    </equation>
                </td>
                <td>
                    <canvas id="lineChartWithDomainNoted" width="100" height="40"></canvas>
                    <script src="./drawingScripts/lineChartWithDomainNoted.js" class="renderJS"></script>
                    <!--Line Chart-->
                </td>
                <td>
                    <!--Area Under the Curve Diagram-->
                    <canvas id="areaUnderTheCurveDiagram" width="100" height="100"></canvas>
                    <script src="./drawingScripts/areaUnderTheCurveDiagram.js" class="renderJS"></script>
                </td>
                <td>Area</td>
                <td style="border-top: none; border-bottom: none;">
                    <!--Empty for spacing to assume there are two different tables-->
                </td>
                <td>
                    <equation>
                        <integral lowerBound="<var>a</var>" upperBound="<var>b</var>" respectTo="x">1</integral> = <var>b &minus; a</var>
                    </equation>
                </td>
                <td>
                    <!--Line Chart-->
                    <canvas id="lineChartWithoutDomainNoted" width="100" height="40"></canvas>
                    <script src="./drawingScripts/lineChartWithoutDomainNoted.js" class="renderJS"></script>
                </td>
                <td>Length</td>
            </tr>
            <tr>
                <td>
                    <equation>
                        <integral lowerBound="<var>D</var>" respectTo="A" double><var>f (x, y)</var></integral>
                    </equation>
                </td>
                <td>
                    <!--Ellipse Domain Chart-->
                    <canvas id="ellipseDomainChart1" width="100" height="100"></canvas>
                    <script class="renderJS">
                        var ellipseDomainChart1 = document.querySelector("#ellipseDomainChart1");
                        var ellipseDomainChart1CTX = ellipseDomainChart1.getContext("2d");
                        oversampleCanvas(ellipseDomainChart1, ellipseDomainChart1CTX, 4);
                        ellipseDomainChart1CTX.font = "10px Arial";
                        ellipseDomainChart1CTX.strokeStyle = "black";
                        ellipseDomainChart1CTX.fillStyle = "black"; //Required to make the tip of the arrow the same color
                        drawArrow(ellipseDomainChart1CTX, 10, 90, 10, 0);
                        ellipseDomainChart1CTX.fillText("y", 2, 20);
                        drawArrow(ellipseDomainChart1CTX, 10, 90, 100, 90);
                        ellipseDomainChart1CTX.fillText("x", 90, 100);
                        ellipseDomainChart1CTX.moveTo(50 + 25, 50)
                        ellipseDomainChart1CTX.ellipse(50, 50, 25, 15, 0, 0, 2 * Math.PI);
                        ellipseDomainChart1CTX.stroke();

                        ellipseDomainChart1CTX.font = "10px Arial";
                        ellipseDomainChart1CTX.fillText("D", 47, 53);
                    </script>
                </td>
                <td>
                    <!--Volume Uner the Curve Diagram-->
                    <canvas id="volumeUnderTheCurveDiagram" width="100" height="100"></canvas>
                    <script src="./drawingScripts/volumeUnderTheCurveDiagram.js" class="renderJS"></script>
                </td>
                <td>Volume</td>
                <td style="border-top: none; border-bottom: none;">
                    <!--Empty for spacing to assume there are two different tables-->
                </td>
                <td>
                    <equation>
                        <integral lowerBound="<var>D</var>" respectTo="A" double>1</integral> = <var>D</var>
                    </equation>
                </td>
                <td>
                    <!--Same Ellipse Domain Chart-->
                    <canvas id="ellipseDomainChart2" width="100" height="100"></canvas>
                    <script class="renderJS">
                        var ellipseDomainChart1 = document.querySelector("#ellipseDomainChart2");
                        var ellipseDomainChart2CTX = ellipseDomainChart2.getContext("2d");
                        oversampleCanvas(ellipseDomainChart2, ellipseDomainChart2CTX, 4);
                        ellipseDomainChart2CTX.font = "10px Arial";
                        ellipseDomainChart2CTX.strokeStyle = "black";
                        ellipseDomainChart2CTX.fillStyle = "black"; //Required to make the tip of the arrow the same color
                        drawArrow(ellipseDomainChart2CTX, 10, 90, 10, 0);
                        ellipseDomainChart2CTX.fillText("y", 2, 20);
                        drawArrow(ellipseDomainChart2CTX, 10, 90, 100, 90);
                        ellipseDomainChart2CTX.fillText("x", 90, 100);
                        ellipseDomainChart2CTX.moveTo(50 + 25, 50)
                        ellipseDomainChart2CTX.ellipse(50, 50, 25, 15, 0, 0, 2 * Math.PI);
                        ellipseDomainChart2CTX.stroke();

                        ellipseDomainChart2CTX.font = "10px Arial";
                        ellipseDomainChart2CTX.fillText("D", 47, 53);
                    </script>
                </td>
                <td>Area</td>
            </tr>
            <tr>
                <td>
                    <equation>
                        <integral lowerBound="<var>W</var>" respectTo="V" triple><var>f (x, y, z)</var></integral>
                    </equation>
                </td>
                <td>
                    <!--Pumpkin Graph?-->
                    <canvas id="pumpkinGraphThingy1" width="100" height="100"></canvas>
                    <script src="./drawingScripts/pumpkinGraphThingy1.js" class="renderJS"></script>
                </td>
                <td>?</td>
                <td>Exotic</td>
                <td style="border-top: none; border-bottom: none;">
                    <!--Empty for spacing to assume there are two different tables-->
                </td>
                <td>
                    <equation>
                        <integral lowerBound="<var>W</var>" respectTo="V" triple>1</integral> = <var>W</var>
                    </equation>
                </td>
                <td>
                    <!--Same Pumpkin Graph?-->
                    <canvas id="pumpkinGraphThingy2" width="100" height="100"></canvas>
                    <script src="./drawingScripts/pumpkinGraphThingy2.js" class="renderJS"></script>
                </td>
                <td>Volume</td>
            </tr>
        </table>
        <li>Just how we had iterated integrals with respect to 2 variables, we can increase that to any number of nested integrals, as long as we don't mess up the order of the bounds and the differentials.</li>
    </ul>
    <h3>15.9: U-Sub For Double and Triple Integrals</h3>
    <ul>
        <li>We now need tools to solve these more complex integrals.</li>
        <li>When doing u-subs for single variable calculus, we found that while the domain (bounds) and the function (integrand) change, the area under the curve still stays the same. <a id="singleVariableU-SubExampleToggleLink" href="javascript:void(0);"
                onclick="toggleSolution('#singleVariableU-SubExample', 'Example')">Show Example</a></li>
        <div id="singleVariableU-SubExample" class="solution">
            <ol>
                Integrate
                <equation>
                    <integral lowerBound="0" upperBound="&pi;/2" respectTo="x">
                        <sin>2x</sin>
                    </integral>
                </equation>
                <li>First we let
                    <equation><var>u = 2x</var></equation> from which we get:</li>
                <equation><span class="alignedEquations">
                    u = 2x<br />
                    <derivative of="u"></derivative> = 2 <span class="cancel">
                        <derivative of="x"></derivative>
                    </span><br /><br /> du = 2dx<br />
                    <div class="fraction">
                        <div class="top">1</div>
                        <div class="bottom">2</div>
                    </div>du = dx
                    </span>
                </equation>
                <li>Now substituting it back in, our integral becomes:</li>
                <equation>
                    <integral lowerBound="0" upperBound="&pi;/2" respectTo="x">
                        <sin>2x</sin>
                    </integral> &rarr;
                    <div class="fraction">
                        <div class="top">1</div>
                        <div class="bottom">2</div>
                    </div>
                    <integral lowerBound="<var>u</var>(0)" upperBound="<var>u</var>(&pi;/2)" respectTo="u">
                        <sin>u</sin>
                    </integral>
                </equation>
                <li>Now we can easily calculate it! Let's graphically interpret the two integrals, before and after u-sub:</li>
                <table class="staticTable">
                    <tr>
                        <td>
                            <equation>
                                <integral lowerBound="0" upperBound="&pi;/2" respectTo="x">
                                    <sin>2x</sin>
                                </integral>
                            </equation>
                        </td>
                        <td>
                            <equation>
                                <div class="fraction">
                                    <div class="top">1</div>
                                    <div class="bottom">2</div>
                                </div>
                                <integral lowerBound="<var>u</var>(0)" upperBound="<var>u</var>(&pi;/2)" respectTo="u">
                                    <sin>u</sin>
                                </integral>
                            </equation>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <canvas id="sinXGraph"></canvas>
                            <script class="renderJS">
                                var sinXGraph = document.querySelector("#sinXGraph");
                                var scaleFactor = 30;
                                var sinXGraphGraph = new Graph(sinXGraph, [0, 2 * Math.PI * scaleFactor], [-2 * scaleFactor, 2 * scaleFactor], {
                                    interval: 0.1,
                                    scaleFactor: scaleFactor,
                                    xAxisTitle: "x",
                                    showXAxisTitle: true,
                                    yAxisTitle: "y",
                                    showYAxisTitle: true,
                                    drawAxis: true
                                });
                                sinXGraphGraph.addEquation((x) => {
                                    return Math.sin(2 * x);
                                });
                                //Shade in the graph from [0, Math.PI/2]
                                var sinXGraphCTX = sinXGraphGraph.allowDrawable();
                                for (var x = 0; x < (Math.PI / 2); x += 0.1) {
                                    sinXGraphCTX.moveTo(x * scaleFactor, 0);
                                    sinXGraphCTX.lineTo(x * scaleFactor, Math.sin(2 * x) * scaleFactor);
                                }
                                sinXGraphCTX.stroke();
                            </script>
                        </td>
                        <td>
                            <canvas id="sin2XGraph"></canvas>
                            <script class="renderJS">
                                var sin2XGraph = document.querySelector("#sin2XGraph");
                                var scaleFactor = 30;
                                var sin2XGraphGraph = new Graph(sin2XGraph, [0, 2 * Math.PI * scaleFactor], [-2 * scaleFactor, 2 * scaleFactor], {
                                    interval: 0.001,
                                    scaleFactor: scaleFactor,
                                    xAxisTitle: "x",
                                    showXAxisTitle: true,
                                    yAxisTitle: "y",
                                    showYAxisTitle: true,
                                    drawAxis: true
                                });
                                sin2XGraphGraph.addEquation((x) => {
                                    return (Math.sin(x) / 2);
                                });

                                //Shade in the graph from [0, Math.PI/2]
                                var sin2XGraphCTX = sin2XGraphGraph.allowDrawable();
                                for (var x = 0; x < (Math.PI); x += 0.1) {
                                    sin2XGraphCTX.moveTo(x * scaleFactor, 0);
                                    sin2XGraphCTX.lineTo(x * scaleFactor, Math.sin(x) / 2 * scaleFactor);
                                }
                                sin2XGraphCTX.stroke();
                            </script>
                        </td>
                    </tr>
                </table>
                <li>As you can see, the bounds of our integral changed, and the period of the function changed, but the area under the curve actually remains the same.</li>
            </ol>
        </div>
        <li>Now let's make it 3-D:</li>
        <ol>Find the volume of the circular paraboloid given by
            <equation><var>z</var> = 16 &minus; <var>x</var><sup>2</sup> &minus; <var>y</var><sup>2</sup></equation> in the region
            <equation><var>R</var></equation> defined by
            <equation><var>x</var><sup>2</sup> + <var>y</var><sup>2</sup> &le; 16</equation>
            <li>First step is to always draw a picture, so we know it looks like:</li>
            <!--Insert picture of upside-down paraboloid -->
            <!--Maybe Geogebra for z=16-x^2-y^2-->
            <li>We can set up the integral from concepts in 15.2:</li>
            <equation>
                <integral lowerBound="<var>R</var>" respectTo="A" double>(16 &minus; <var>x</var><sup>2</sup> &minus; <var>y</var><sup>2</sup>)</integral> =
                <integral lowerBound="<var>x</var> = &minus;4" upperBound="4" respectTo="x">
                    <integral lowerBound="<var>y</var> = &minus;<sqrt>16 &minus; <var>x</var><sup>2</sup></sqrt>" upperBound="<sqrt>16 &minus; <var>x</var><sup>2</sup></sqrt>" respectTo="y">
                        (16 &minus; <var>x</var><sup>2</sup> &minus; <var>y</var><sup>2</sup>)
                    </integral>
                </integral>
            </equation>
            <li>In order to start solving this, we would need to use trigonometric substitutions, but let's veer away from that. Instead we can see that the function has circles embedded in it, and the bounds are circular, so why don't we try polar coordinates?
                The circles tell us to try polar coordinates.</li>
            <li>As a recap of polar coordinates, we replace
                <equation><var>x</var></equation> and
                <equation><var>y</var></equation> with
                <equation><var>&theta;</var></equation> and
                <equation><var>r</var></equation> according to the diagram below:</li>
            <!--Right triangle drawing with x, y, r sides and angle &theta;-->
            <canvas id="polarCoordinateRightTriangleSketch" width="150" height="80"></canvas>
            <script src="./drawingScripts/polarCoordinateRightTriangleSketch.js" class="renderJS"></script><br>
            <equation><var>x</var><sup>2</sup> + <var>y</var><sup>2</sup> = <var>r</var><sup>2</sup></equation><br />
            <equation>&theta; = tan<sup>&minus;1</sup>(
                <div class="fraction">
                    <div class="top"><var>y</var></div>
                    <div class="bottom"><var>x</var></div>
                </div>)
            </equation>
            <li>Using these, we can now substitute
                <equation><var>r</var></equation> into our inner function:</li>
            <equation>(16 &minus; <var>x</var><sup>2</sup> &minus; <var>y</var><sup>2</sup>) &rarr; (16 &minus; <var>r</var><sup>2</sup>)</equation>
            <li>Just for reference, our new function looks like this:</li>
            <!--Diagram of infinite upside down parabola on axes &theta;, r, z-->
            <canvas id="threeDimensionalConversionToPolarCoordinates" width="320" height="280"></canvas>
            <script src="./drawingScripts/threeDimensionalConversionToPolarCoordinates.js" class="renderJS"></script>

            <li>But we still have
                <equation><var>dA = dydx</var></equation> in our integral when our function is now in terms of
                <equation><var>&theta;</var></equation> and
                <equation><var>r</var></equation>. How do we fix this?
            </li>
            <ol type="i">
                <li>Using the same concept of partitions in defining a double integral, let's look at how the partition changes as we go from one coordinate system to the other (cartesian &rarr; polar)</li>
                <!--Diagram of rectangular partitions &rarr; diagram of non rectangular partitions-->
                <table>
                    <tr>
                        <td>
                            <canvas id="rectangularPartitionsOfThePolarPlaneSketch" width="220" height="210"></canvas>
                            <script src="./drawingScripts/rectangularPartitionsOfThePolarPlaneSketch.js" class="renderJS"></script>
                        </td>
                        <td>&rarr;</td>
                        <td>
                            <canvas id="polarPartitionsOfThePolarPlaneSketch"></canvas>
                            <script src="./drawingScripts/polarPartitionsOfThePolarPlaneSketch.js" class="renderJS"></script>
                        </td>
                    </tr>
                </table>
                <li>
                    If we take a closer look at the pie slices we can see that as we get infinetessimally smaller, things start to get locally linear and we can actually approximate the area of that little slice using the formula for the area of a rectangle.
                    <br />We can find the "length" of the said rectangle by using our formula for the length of an arc:
                </li>
                <equation>
                    <text>Circumference</text> = 2&pi;<var>r</var>
                </equation><br />
                <equation><text>Arc length</text> = (
                    <div class="fraction">
                        <div class="top">&theta;</div>
                        <div class="bottom">2&pi;</div>
                    </div>)(<text>Circumference</text>) =
                    <div class="fraction">
                        <div class="top">&theta;</div>
                        <div class="bottom"><span class="cancel">2&pi;</span></div>
                    </div><span class="cancel">2&pi;</span>r = &theta;r</equation><br />
                <!--Diagram of individual pie slice with one sector shaded in-->
                <canvas id="polarPieSliceSectorDiagram"></canvas>
                <script src="./drawingScripts/polarPieSliceSectorDiagram.js" class="renderJS"></script><br>
                <equation>&Delta;<var>A</var> = <var>r</var>&Delta;<var>r</var>&Delta;<var>&theta;</var></equation>
                <li>Once again, that is the area of just one slice of a sector, let's add them all up, and with the limit of a Riemann sum we see that it becomes:</li>
                <equation><span class="alignedEquations">
                    &Delta;A = r&Delta;r&Delta;&theta;<br />
                    dA = rdrd&theta;
                </span></equation>
                <li>So overall we can say that when converting from cartesian to polar coordinates:</li>
                <table class="rules">
                    <tr>
                        <td>
                            <equation>
                                <integral lowerBound="<var>R</var>" double>f (x, y)dydx</integral>
                                &rarr;
                                <integral lowerBound="<var>R</var>" double>f (r
                                    <cos>&theta;</cos>, r
                                    <sin>&theta;</sin>)rdrd&theta;</integral>
                            </equation>
                        </td>
                    </tr>
                </table>
            </ol>
            <li>The last thing we need to do is switch our bounds, we know that the region
                <equation><var>R</var></equation> we are integrating over is a circle of radius
                <equation><var>r</var> = 4</equation> and it is the full circle so
                <equation><var>&theta;</var> = 2&pi;</equation>. Since we are integrating over the full circle, our new bounds become:</li>
            <equation><span class="alignedEquations">
    <var>r</var>= [0, 4]<br /><var>&theta;</var> = [0, 2&pi;]
</span></equation>
            <li>Lastly let's plug it all in to our new integral:</li>
            <equation>
                <integral lowerBound="<var>R</var>" respectTo="A" double>(16 &minus; <var>x</var><sup>2</sup> &minus; <var>y</var><sup>2</sup>)</integral> =
                <integral lowerBound="<var>&theta;</var> = 0" upperBound="2&pi;" respectTo="&theta;">
                    <integral lowerBound="<var>r</var> = 0" upperBound="4" respectTo="r">
                        (16 &minus; <var>r</var><sup>2</sup>)
                        <!--Add the Jacobian here since there is no support for that yet--><var>r</var>
                    </integral>
                </integral>
            </equation>
            <li>A really neat trick we can employ to simplify the solving of this nested integral is to split it into two integrals.</li>
            <ol type="i">
                <li>Notice that all of our bounds are number values. Essentially they would make up a rectangle, and the area of a rectangle is simply
                    <equation><text>base</text> &times; <text>height</text></equation>.</li>
                <li>Also notice that the integrand is the product of two functions, a function of
                    <equation><var>r</var></equation> and a function of
                    <equation><var>&theta;</var></equation> (Remember that
                    <equation><var>&theta;</var> = 1</equation> is a function nonetheless).</li>
                <equation>(1)(16 &minus; r<sup>2</sup>)r</equation>
                <li>If we can fit both of those criteria, then we can separate the integrals:</li>
                <equation>
                    <integral lowerBound="<var>&theta;</var> = 0" upperBound="2&pi;" respectTo="&theta;">
                        <integral lowerBound="<var>r</var> = 0" upperBound="4" respectTo="r">
                            (16 &minus; <var>r</var><sup>2</sup>)
                            <!--Add the Jacobian here since there is no support for that yet--><var>r</var>
                        </integral>
                    </integral> =
                    <integral lowerBound="<var>&theta;</var> = 0" upperBound="2&pi;" respectTo="&theta;">1</integral>
                    <integral lowerBound="<var>r</var> = 0" upperBound="4" respectTo="r">(16 &minus; <var>r</var><sup>2</sup>)
                        <!--Add the Jacobian here since there is no support for that yet--><var>r</var></integral>
                </equation>
            </ol>
            <li>After we split the integral, it's only a matter of solving.</li>
            <equation> =
                <integral lowerBound="<var>&theta;</var> = 0" upperBound="2&pi;" respectTo="&theta;">1</integral>
                <integral lowerBound="<var>r</var> = 0" upperBound="4" respectTo="r">(16 &minus; <var>r</var><sup>2</sup>)
                    <!--Add the Jacobian here since there is no support for that yet--><var>r</var></integral>
            </equation><br />
            <equation><span class="alignedEquations">
                = 2&pi;<integral lowerBound="0" upperBound="4" respectTo="r">(16 &minus; r<sup>3</sup>)</integral><br />
                = 2&pi;(<div class="fraction">
                    <div class="top">16r<sup>2</sup></div>
                    <div class="bottom">2</div>
                </div> &minus; <div class="fraction">
                    <div class="top">r<sup>4</sup></div>
                    <div class="bottom">4</div>
                </div>)<evaluated from="0" to="4"></evaluated><br />
                = 2&pi;(<div class="fraction">
                    <div class="top">16(4)<sup>2</sup></div>
                    <div class="bottom">2</div>
                </div> &minus; <div class="fraction">
                    <div class="top">(4)<sup>4</sup></div>
                    <div class="bottom">4</div>
                </div>)<br />
                = 2&pi;(8(4)<sup>2</sup> &minus; 4<sup>3</sup>)<br />
                = (2&pi;)(4<sup>3</sup>)(2 &minus; 1)
            </span></equation><br />
            <equation><span class="answer">= 128&pi;</span></equation>
        </ol>
        <li>That was a long process, but there is a shorter way to account for the change in
            <equation><var>dA</var></equation> when we substitute values. We call the "
            <equation><var>r</var></equation>" in
            <equation><var>rdrd&theta;</var></equation> "<u>The Jacobian</u>"<br />Given two functions
            <equation><span class="alignedEquations">
                x = x(u, v)<br />
                y = y(u, v)
            </span></equation>, the Jacobian is defined to be:</li>
        <table class="rules">
            <tr>
                <td>
                    <equation>
                        <det writeDet>
                            <matrix dimensionX="1" dimensionY="1">
                                <cell>
                                    <pDerivative of="(x, y)" respectTo="(r, &theta;)"></pDerivative>
                                </cell>
                            </matrix>
                        </det> =
                        <det writeDet>
                            <matrix dimensionX="1" dimensionY="2">
                                <cell>
                                    &nabla;<var>x(u, v)</var>
                                </cell>
                                <cell>
                                    &nabla;<var>y(u, v)</var>
                                </cell>
                            </matrix>
                        </det> =
                        <det writeDet>
                            <matrix dimensionX="2" dimensionY="2">
                                <cell>
                                    <pDerivative of='x' respectTo='u'></pDerivative>
                                </cell>
                                <cell>
                                    <pDerivative of='x' respectTo='v'></pDerivative>
                                </cell>
                                <cell>
                                    <pDerivative of='y' respectTo='u'></pDerivative>
                                </cell>
                                <cell>
                                    <pDerivative of='y' respectTo='v'></pDerivative>
                                </cell>
                            </matrix>
                        </det>
                    </equation>
                </td>
                <th><a href="javascript:void(0)" id="jacobianProofToggleLink" onclick="toggleSolution('#jacobianProof', true);">Show Proof</a></th>
            </tr>
        </table>
        <div id="jacobianProof" class="solution">
            <ol>
                <li>
                    Our goal is to find
                    <equation><var>dA</var></equation> for any given transformation of the coordinate system, not just cartesian &rarr; polar. When we did regular u-sub, we first let there be a function
                    <equation><var>u = u(x)</var></equation>. We can try to apply the differential and see where that takes us. If we can model single-variable u-substitutions in this way, then we should be able to do multivariable u-substitutions as well.
                </li>
                <li>To get there, we can look at a first term Taylor Series and rearrange the terms to reformat it into the type we want.</li>
                <equation><span class="alignedEquations">
                    u(x) = u(x<sub>1</sub>) + u'(x<sub>1</sub>)(x &minus; x<sub>1</sub>)<br />
                    u(x) &minus; u(x<sub>1</sub>) = u'(x<sub>1</sub>)(x &minus; x<sub>1</sub>)<br />
                    &Delta;u = u'(x<sub>1</sub>)&Delta;x
                </span></equation>
                <li>If we made
                    <equation>&Delta;<var>x</var></equation> really really small, we can rewrite the above using the differential to be:</li>
                <equation>du = u'dx</equation>
                <li>This looks exactly like a regular u-sub, so let's extend it to 2 dimensions. The first-term Taylor series for a 2-variable function would look something like:</li>
                <equation>
                    z = f (x, y) &asymp; f (a, b) + &nabla;f (a, b) &sdot; &lang;x &minus; a, y &minus; b&rang;
                </equation>
                <li>Let's try to apply this to our polar example and see how that goes:</li>
                <equation>
                    <matrix dimensionX="1" dimensionY="2" values="x, y"></matrix> =
                    <matrix dimensionX="1" dimensionY="2">
                        <cell>r<sub>1</sub>
                            <cos>&theta;<sub>1</sub></cos>
                        </cell>
                        <cell>r<sub>1</sub>
                            <sin>&theta;<sub>1</sub></sin>
                        </cell>
                    </matrix> +
                    <matrix dimensionX="1" dimensionY="2">
                        <cell>&nabla;x(r<sub>1</sub>, &theta;<sub>1</sub>)</cell>
                        <cell>&nabla;y(r<sub>1</sub>, &theta;<sub>1</sub>)</cell>
                    </matrix>
                    <matrix dimensionX="1" dimensionY="2">
                        <cell>r &minus; r<sub>1</sub></cell>
                        <cell>&theta; &minus; &theta;<sub>1</sub></cell>
                    </matrix>
                </equation>
                <li>It's really the
                    <equation>&nabla;f (a, b)</equation> that determines how your function will change from one point to another, so it makes sense that the matrix version of that tells us how we transform the coordinate system from one system of variables to the
                    other. In this case we defined
                    <equation><var>x, y</var></equation> in terms of
                    <equation><var>r, &theta;</var></equation>, and that transformation matrix tells us how the coordinates change from cartesian to polar. We can rewrite that matrix in the following way:</li>
                <equation>
                    <matrix dimensionX="1" dimensionY="2">
                        <cell>&nabla;x(r<sub>1</sub>, &theta;<sub>1</sub>)</cell>
                        <cell>&nabla;y(r<sub>1</sub>, &theta;<sub>1</sub>)</cell>
                    </matrix>
                    =
                    <pDerivative of="(x, y)" respectTo="(r, &theta;)"></pDerivative>
                </equation>
                <li>The determinant of a matrix tells us the scaling factor of its transformation, if we were to apply the matrix as a transformation, so simply taking the determinant of this matrix will give us our requested value.</li>
                <equation>
                    |
                    <pDerivative of="(x, y)" respectTo="(r, &theta;)"></pDerivative>| =
                    <det>
                        <matrix dimensionX="1" dimensionY="2">
                            <cell>&nabla;x(r<sub>1</sub>, &theta;<sub>1</sub>)</cell>
                            <cell>&nabla;y(r<sub>1</sub>, &theta;<sub>1</sub>)</cell>
                        </matrix>
                    </det> =
                    <det>
                        <matrix dimensionX="2" dimensionY="2">
                            <cell>
                                <cos>&theta;</cos>
                            </cell>
                            <cell>&minus;r
                                <sin>&theta;</sin>
                            </cell>
                            <cell>
                                <sin>&theta;</sin>
                            </cell>
                            <cell>r
                                <cos>&theta;</cos>
                            </cell>
                        </matrix>
                    </det> = rcos<sup>2</sup>(&theta;) + rsin<sup>2</sup>(&theta;) = <span class="answer">r</span>
                </equation>
                <li>All of that effort gives us the
                    <equation><var>r</var></equation> in
                    <equation><var>rdrd&theta;</var></equation>. We call this the <u>Jacobian</u> of the transformation.</li>
                <li>But now we can do any substitution of two variables as long as we find the Jacobian and make sure to include that in our integral when we solve.</li>
            </ol>
        </div>
        <li>This means that your overall integral will change into:</li>
        <table class="rules">
            <tr>
                <td>
                    <equation>
                        <integral lowerBound="<var>R</var>" double>f (x, y)dxdy</integral> =
                        <integral lowerBound="<var>R<sup>*</sup></var>" double>
                            f (x(u, v), y(u, v))
                            <det>
                                <matrix dimensionX="1" dimensionY="1">
                                    <cell>
                                        <pDerivative of="(x, y)" respectTo="(r, &theta;)"></pDerivative>
                                    </cell>
                                </matrix>
                            </det>dudv</integral>
                    </equation>
                </td>
            </tr>
        </table>
    </ul>
    <h3>15.7: Triple Integrals in Cylindrical Coordinates:</h3>
    <ul></ul>
    <h3>15.8: Triple Integrals in Spherical Coordinates:</h3>
    <ul>
        <li>For a summary of all the formulas we have found for substitution:</li>
        <table class="rules">
            <tr>
                <th><u>Cartesian:</u></th>
                <th><u>Cylindrical:</u></th>
                <th><u>Spherical:</u></th>
            </tr>
            <tr>
                <td><var>x</var></td>
                <td><var>r<cos>&theta;</cos></var></td>
                <td><var>&rho;<sin>&phi;</sin><cos>&theta;</cos></var></td>
            </tr>
            <tr>
                <td><var>y</var></td>
                <td><var>r<sin>&theta;</sin></var></td>
                <td><var>&rho;<sin>&phi;</sin><sin>&theta;</sin></var></td>
            </tr>
            <tr>
                <td><var>z</var></td>
                <td><var>z</var></td>
                <td><var>&rho;<cos>&phi;</cos></var></td>
            </tr>
            <tr>
                <td><var>x</var><sup>2</sup> + <var>y</var><sup>2</sup></td>
                <td><var>r</var><sup>2</sup></td>
                <td><var>&rho;</var><sup>2</sup>sin<sup>2</sup>(<var>&phi;</var>)</td>
            </tr>
            <tr>
                <td><var>x</var><sup>2</sup> + <var>y</var><sup>2</sup> + <var>z</var><sup>2</sup></td>
                <td><var>r</var><sup>2</sup> + <var>z</var><sup>2</sup></td>
                <td><var>&rho;</var><sup>2</sup></td>
            </tr>
        </table>
    </ul>
</div>